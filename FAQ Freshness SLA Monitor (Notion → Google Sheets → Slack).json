{
  "updatedAt": "2025-12-23T17:40:16.555Z",
  "createdAt": "2025-10-29T08:58:09.967Z",
  "id": "BrAg7iFY7zDtl2GG",
  "name": "FAQ Freshness SLA Monitor (Notion ‚Üí Google Sheets ‚Üí Slack)",
  "active": false,
  "isArchived": false,
  "nodes": [
    {
      "parameters": {
        "resource": "databasePage",
        "operation": "getAll",
        "databaseId": {
          "__rl": true,
          "value": "29ad8188-083a-80c5-ae84-dcce3f2b7f7a",
          "mode": "list",
          "cachedResultName": "Github Issues",
          "cachedResultUrl": "https://www.notion.so/29ad8188083a80c5ae84dcce3f2b7f7a"
        },
        "options": {}
      },
      "id": "a3b8539e-e572-4902-878f-9af64e24fd40",
      "name": "Fetch FAQs from Notion",
      "type": "n8n-nodes-base.notion",
      "typeVersion": 2,
      "position": [
        -880,
        0
      ],
      "credentials": {
        "notionApi": {
          "id": "E9jA8DFWT2IxdpMU",
          "name": "Notion account Vivek"
        }
      }
    },
    {
      "parameters": {
        "assignments": {
          "assignments": [
            {
              "id": "a1b2c3d4-e5f6-4a7b-8c9d-0e1f2a3b4c5d",
              "name": "Title",
              "value": "={{ $json.name }}",
              "type": "string"
            },
            {
              "id": "c3d4e5f6-a7b8-4c9d-0e1f-2a3b4c5d6e7f",
              "name": "lastEdited",
              "value": "={{ $json.property_created_at.start }}",
              "type": "string"
            },
            {
              "id": "e5f6a7b8-c9d0-4e1f-2a3b-4c5d6e7f8a9b",
              "name": "slaStatus",
              "value": "={{ $json.property_status }}",
              "type": "string"
            },
            {
              "id": "f6a7b8c9-d0e1-4f2a-3b4c-5d6e7f8a9b0c",
              "name": "pageUrl",
              "value": "={{ $json.url }}",
              "type": "string"
            },
            {
              "id": "057fbd3f-9cd0-4420-a81f-d63b7d1c9ed5",
              "name": "Severity",
              "value": "={{ $json.property_severity }}",
              "type": "string"
            },
            {
              "id": "537c4ea9-f48e-433d-b0a0-099942ca0593",
              "name": "Suggested Action",
              "value": "={{ $json.property_suggested_action }}",
              "type": "string"
            },
            {
              "id": "33c00238-5f07-4950-aad4-d95a75bb7af7",
              "name": "Error Category",
              "value": "={{ $json.property_error_category }}",
              "type": "string"
            },
            {
              "id": "85aa9ccf-300a-45c1-8768-0789c028f074",
              "name": "url",
              "value": "={{ $json.url }}",
              "type": "string"
            },
            {
              "id": "a7171eb4-54dc-45c5-bed4-8872bf7d8022",
              "name": "Source URL",
              "value": "={{ $json.property_source_url }}",
              "type": "string"
            },
            {
              "id": "e5effafa-0f0b-446b-8a40-e1b83cce20bb",
              "name": "Repository",
              "value": "={{ $json.property_repository }}",
              "type": "string"
            },
            {
              "id": "4120ffb6-587e-4782-9fb6-ee3874d54e3c",
              "name": "Root Cause",
              "value": "={{ $json.property_root_cause }}",
              "type": "string"
            }
          ]
        },
        "options": {}
      },
      "id": "c91abee6-a10b-4c63-9f36-98d2414632b6",
      "name": "Compute SLA Data",
      "type": "n8n-nodes-base.set",
      "typeVersion": 3.3,
      "position": [
        -656,
        0
      ]
    },
    {
      "parameters": {
        "operation": "appendOrUpdate",
        "documentId": {
          "__rl": true,
          "value": "17rcNd_ZpUQLm0uWEVbD-NY6GyFUkrD4BglvawlyBygM",
          "mode": "list",
          "cachedResultName": "sample_leads_50",
          "cachedResultUrl": "https://docs.google.com/spreadsheets/d/17rcNd_ZpUQLm0uWEVbD-NY6GyFUkrD4BglvawlyBygM/edit?usp=drivesdk"
        },
        "sheetName": {
          "__rl": true,
          "value": 1359568824,
          "mode": "list",
          "cachedResultName": "FAQ Release ",
          "cachedResultUrl": "https://docs.google.com/spreadsheets/d/17rcNd_ZpUQLm0uWEVbD-NY6GyFUkrD4BglvawlyBygM/edit#gid=1359568824"
        },
        "columns": {
          "mappingMode": "autoMapInputData",
          "value": {},
          "matchingColumns": [
            "Title"
          ],
          "schema": [
            {
              "id": "Title",
              "displayName": "Title",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": false
            },
            {
              "id": "lastEdited",
              "displayName": "lastEdited",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": false
            },
            {
              "id": "slaStatus",
              "displayName": "slaStatus",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": false
            },
            {
              "id": "pageUrl",
              "displayName": "pageUrl",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": false
            },
            {
              "id": "Severity",
              "displayName": "Severity",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": false
            },
            {
              "id": "Suggested Action",
              "displayName": "Suggested Action",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": false
            },
            {
              "id": "Error Category",
              "displayName": "Error Category",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": false
            },
            {
              "id": "url",
              "displayName": "url",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": false
            },
            {
              "id": "Source URL",
              "displayName": "Source URL",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": false
            },
            {
              "id": "Repository",
              "displayName": "Repository",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": false
            },
            {
              "id": "Root Cause",
              "displayName": "Root Cause",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": false
            }
          ],
          "attemptToConvertTypes": false,
          "convertFieldsToString": false
        },
        "options": {}
      },
      "id": "225159ba-3b0e-402a-9e26-f4ccfe3564ab",
      "name": "Update Google Sheets",
      "type": "n8n-nodes-base.googleSheets",
      "typeVersion": 4.4,
      "position": [
        -432,
        0
      ],
      "credentials": {
        "googleSheetsOAuth2Api": {
          "id": "kpPEOLCGn963qpoh",
          "name": "automations@techdome.ai"
        }
      }
    },
    {
      "parameters": {
        "conditions": {
          "options": {
            "caseSensitive": true,
            "leftValue": "",
            "typeValidation": "strict",
            "version": 1
          },
          "conditions": [
            {
              "id": "f7a8b9c0-d1e2-4f3a-4b5c-6d7e8f9a0b1c",
              "leftValue": "={{ $json.slaStatus }}",
              "rightValue": "OVERDUE",
              "operator": {
                "type": "string",
                "operation": "equals"
              }
            }
          ],
          "combinator": "and"
        },
        "options": {}
      },
      "id": "6591c9d7-02fa-4703-ae28-a2bf4b3047c2",
      "name": "Filter Overdue FAQs",
      "type": "n8n-nodes-base.if",
      "typeVersion": 2,
      "position": [
        -208,
        0
      ]
    },
    {
      "parameters": {
        "assignments": {
          "assignments": [
            {
              "id": "a9b0c1d2-e3f4-4a5b-6c7d-8e9f0a1b2c3d",
              "name": "overdueList",
              "value": "=Title:- {{ $json.Title }} \n\nRepository:- {{ $json.Repository }}\n\nSuggested Action:- {{ $json['Suggested Action'] }} \n\nView FAQ:- {{ $json.pageUrl }} \n\nSeverity:- {{ $json.Severity }}",
              "type": "string"
            }
          ]
        },
        "options": {}
      },
      "id": "dbb34840-d2d5-45b6-bce1-a846bd8a872d",
      "name": "Format Overdue Message",
      "type": "n8n-nodes-base.set",
      "typeVersion": 3.3,
      "position": [
        16,
        0
      ]
    },
    {
      "parameters": {
        "aggregate": "aggregateAllItemData",
        "options": {}
      },
      "id": "ff683bc5-afce-4f38-b4d9-4086c674c55a",
      "name": "Aggregate Overdue FAQs",
      "type": "n8n-nodes-base.aggregate",
      "typeVersion": 1,
      "position": [
        240,
        0
      ]
    },
    {
      "parameters": {
        "select": "channel",
        "channelId": {
          "__rl": true,
          "value": "C09GNB90TED",
          "mode": "list",
          "cachedResultName": "general-information"
        },
        "text": "=:warning: *FAQ Freshness Alert - Overdue Items Detected*\n\nThe following FAQs have exceeded the 30-day freshness SLA and need review and is Overdue:\n\n{{ $json.data[0].overdueList }}\n\n_Please update these FAQs to ensure documentation accuracy.",
        "otherOptions": {
          "mrkdwn": true
        }
      },
      "id": "0a07b80d-e874-4d95-9c9d-0f1ee505e88e",
      "name": "Send Slack Alert",
      "type": "n8n-nodes-base.slack",
      "typeVersion": 2.1,
      "position": [
        464,
        0
      ],
      "webhookId": "c3ee5e90-bdda-4b9b-9596-c708e7008406",
      "credentials": {
        "slackApi": {
          "id": "rNqvWj9TfChPVRYY",
          "name": "Slack account vivek"
        }
      }
    },
    {
      "parameters": {
        "rule": {
          "interval": [
            {
              "field": "weeks",
              "triggerAtDay": [
                1
              ],
              "triggerAtHour": 10
            }
          ]
        }
      },
      "type": "n8n-nodes-base.scheduleTrigger",
      "typeVersion": 1.2,
      "position": [
        -1104,
        0
      ],
      "id": "43c10a5e-6d62-496e-bae6-e3c0a91c0f47",
      "name": "Schedule Trigger"
    },
    {
      "parameters": {
        "content": "## üìã FAQ Freshness Monitor\n\n### How it works\nThis workflow keeps your FAQ documentation fresh by checking when each FAQ in your Notion database was last updated. It runs every Monday morning, calculates which entries are older than 30 days, and updates a Google Sheet with the results. If any FAQs are overdue, a Slack alert goes out to your chosen channel. This helps the team stay on top of content maintenance without manual checks.\n\n### Setup steps\n1. Connect your Notion, Google Sheets, and Slack accounts in n8n.\n2. In Notion, share your FAQ database with the n8n integration and note the database ID.\n3. Create a Google Sheet with the headers listed in this workflow.\n4. Add your sheet ID and Slack channel ID as environment variables.\n5. Adjust the schedule time if needed (default is Monday, 10 AM).\n6. Run once manually to confirm everything‚Äôs flowing correctly.\n7. Enable the workflow and let it handle the weekly checks automatically.\n",
        "height": 572,
        "width": 451
      },
      "id": "eda6066a-249c-4af5-81c6-37ad2d283617",
      "name": "Sticky Note - Workflow Overview",
      "type": "n8n-nodes-base.stickyNote",
      "position": [
        -1904,
        -784
      ],
      "typeVersion": 1
    },
    {
      "parameters": {
        "content": "## Data Source & Trigger \n\nThis section controls when and where data comes from.\n- The Schedule Trigger starts the workflow automatically every Monday at 10 AM.\n- The Notion node connects to your FAQ database and pulls all records for analysis.\nTip: Make sure your Notion integration has access and the database ID is set correctly.\n",
        "height": 412,
        "width": 524,
        "color": 2
      },
      "id": "b3869e4d-6352-4474-b856-f489836b5ac0",
      "name": "Sticky Note - Schedule",
      "type": "n8n-nodes-base.stickyNote",
      "position": [
        -1232,
        -224
      ],
      "typeVersion": 1
    },
    {
      "parameters": {
        "content": "## Overdue Detection & Message Prep\n\n\nThis section filters out FAQs that haven‚Äôt been updated in the last 30 days.\n- The IF node checks the SLA status (OVERDUE).\n- The Set and Aggregate nodes format all overdue items into a single message array for Slack.\nYou can adjust the filter logic or add extra criteria (like severity).\n",
        "height": 528,
        "width": 380,
        "color": 2
      },
      "id": "7b4cede6-9181-4ddb-a734-ed47b79988f7",
      "name": "Sticky Note - Notion Setup",
      "type": "n8n-nodes-base.stickyNote",
      "position": [
        -208,
        -336
      ],
      "typeVersion": 1
    },
    {
      "parameters": {
        "content": "## Data Processing & Storage\n\n\nHere, the workflow transforms the Notion data and syncs it with Google Sheets.\n- The Set node maps FAQ fields (title, last edited, severity, etc.).\n- The Sheets node appends or updates rows in your sheet, using ‚ÄúTitle‚Äù as the match key.\nYou can tweak this mapping if your Notion field names differ.\n",
        "height": 460,
        "width": 460,
        "color": 2
      },
      "id": "15ef453d-c0d4-456c-a906-90595ecd3323",
      "name": "Sticky Note - Data Transform",
      "type": "n8n-nodes-base.stickyNote",
      "position": [
        -688,
        -256
      ],
      "typeVersion": 1
    },
    {
      "parameters": {
        "content": "## Alerts & Communication\n\n\nFinally, the workflow sends the summary message to Slack.\n- If there are overdue FAQs, a detailed message is sent to the configured channel.\n- Optionally, you can add a small ‚ÄúAll Clear‚Äù message node for cases with no overdue items.\nTip: Test this manually once to confirm Slack permissions and formatting.\n",
        "height": 612,
        "width": 444,
        "color": 2
      },
      "id": "66a6e85b-477c-4bf3-a45e-c0c57098d26d",
      "name": "Sticky Note - No Overdue Path",
      "type": "n8n-nodes-base.stickyNote",
      "position": [
        192,
        -352
      ],
      "typeVersion": 1
    }
  ],
  "connections": {
    "Fetch FAQs from Notion": {
      "main": [
        [
          {
            "node": "Compute SLA Data",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Compute SLA Data": {
      "main": [
        [
          {
            "node": "Update Google Sheets",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Update Google Sheets": {
      "main": [
        [
          {
            "node": "Filter Overdue FAQs",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Filter Overdue FAQs": {
      "main": [
        [
          {
            "node": "Format Overdue Message",
            "type": "main",
            "index": 0
          }
        ],
        []
      ]
    },
    "Format Overdue Message": {
      "main": [
        [
          {
            "node": "Aggregate Overdue FAQs",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Aggregate Overdue FAQs": {
      "main": [
        [
          {
            "node": "Send Slack Alert",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Schedule Trigger": {
      "main": [
        [
          {
            "node": "Fetch FAQs from Notion",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Send Slack Alert": {
      "main": [
        []
      ]
    }
  },
  "settings": {
    "executionOrder": "v1"
  },
  "staticData": null,
  "meta": {
    "templateCredsSetupCompleted": true
  },
  "pinData": {},
  "versionId": "0b7f626d-16b4-4d06-bd0c-1a78cd2e8e3f",
  "activeVersionId": null,
  "triggerCount": 0,
  "shared": [
    {
      "updatedAt": "2025-10-29T08:58:09.971Z",
      "createdAt": "2025-10-29T08:58:09.971Z",
      "role": "workflow:owner",
      "workflowId": "BrAg7iFY7zDtl2GG",
      "projectId": "iXigq15mRQoAAIrt"
    }
  ],
  "activeVersion": null,
  "tags": []
}