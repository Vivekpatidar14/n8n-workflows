{
  "updatedAt": "2026-01-05T06:57:28.692Z",
  "createdAt": "2025-12-15T05:37:53.849Z",
  "id": "BM0mjVxlRR6cc5hG",
  "name": "FigmaToJira",
  "active": false,
  "isArchived": false,
  "nodes": [
    {
      "parameters": {},
      "id": "f07294cb-26db-41b0-96a2-253603c32885",
      "name": "Start",
      "type": "n8n-nodes-base.manualTrigger",
      "typeVersion": 1,
      "position": [
        -224,
        496
      ]
    },
    {
      "parameters": {
        "url": "https://api.figma.com/v1/files/MqDjieA95o5CWh3cIWVAL2",
        "authentication": "genericCredentialType",
        "genericAuthType": "httpHeaderAuth",
        "sendQuery": true,
        "queryParameters": {
          "parameters": [
            {
              "name": "depth",
              "value": "1"
            },
            {
              "name": "geometry",
              "value": "paths"
            }
          ]
        },
        "options": {
          "response": {
            "response": {
              "neverError": true
            }
          },
          "timeout": 30000
        }
      },
      "id": "32f5374c-858e-4795-afed-c0d69a74e742",
      "name": "Get Figma File Data",
      "type": "n8n-nodes-base.httpRequest",
      "typeVersion": 4.1,
      "position": [
        128,
        512
      ],
      "credentials": {
        "httpHeaderAuth": {
          "id": "dFKg2G25H8e1nyzo",
          "name": "Figma Token pradeep"
        }
      }
    },
    {
      "parameters": {
        "jsCode": "const pages = items[0].json.document.children;\n\n// Filter only CANVAS nodes (Figma pages)\nconst allPages = pages.filter(p => p.type === \"CANVAS\");\n\nif (!allPages.length) {\n  throw new Error(\"No pages (CANVAS) found in Figma file\");\n}\n\n// Return each page as a separate n8n item\nreturn allPages.map(page => ({\n  json: {\n    pageId: page.id,\n    pageName: page.name\n  }\n}));\n"
      },
      "id": "9dd80454-607f-480d-b7e6-ebf5e25750e0",
      "name": "Parse Figma JSON",
      "type": "n8n-nodes-base.code",
      "typeVersion": 2,
      "position": [
        352,
        512
      ]
    },
    {
      "parameters": {
        "promptType": "define",
        "text": "=You are a QA test case generator. Based on the following Figma design information, generate comprehensive test cases.\\n\\nDesign Context:\\n{{ $json.designContext }}\\n\\nGenerate test cases that cover:\\n- UI elements and interactions\\n- User flows\\n- Edge cases\\n- Accessibility considerations\\n\\nReturn ONLY a valid JSON object with this exact structure (no markdown, no explanations):\\n{\\n  \\\"test_cases\\\": [\\n    {\\n      \\\"title\\\": \\\"Test case title here\\\",\\n      \\\"steps\\\": \\\"Step 1: Do this\\\\nStep 2: Do that\\\\nStep 3: Verify result\\\"\\n    }\\n  ]\\n}\\n\\nGenerate at least 5-10 test cases based on the design elements found.",
        "messages": {
          "messageValues": [
            {
              "type": "AIMessagePromptTemplate",
              "message": "="
            }
          ]
        },
        "batching": {}
      },
      "type": "@n8n/n8n-nodes-langchain.chainLlm",
      "typeVersion": 1.7,
      "position": [
        -96,
        -384
      ],
      "id": "72b9200a-43a0-4565-b5fd-a2ba3bc6a824",
      "name": "Basic LLM Chain"
    },
    {
      "parameters": {
        "model": {
          "__rl": true,
          "value": "gpt-4o-mini",
          "mode": "list",
          "cachedResultName": "gpt-4o-mini"
        },
        "options": {
          "temperature": 0.7
        }
      },
      "type": "@n8n/n8n-nodes-langchain.lmChatOpenAi",
      "typeVersion": 1.2,
      "position": [
        -32,
        -160
      ],
      "id": "ed1bbcde-99f5-45d0-bb5e-8eb0f4b6c1fd",
      "name": "OpenAI Chat Model",
      "credentials": {
        "openAiApi": {
          "id": "fcc0YsAnyxvK2gD4",
          "name": "OpenAi account 3"
        }
      }
    },
    {
      "parameters": {
        "url": "https://api.figma.com/v1/files/MqDjieA95o5CWh3cIWVAL2/nodes",
        "authentication": "genericCredentialType",
        "genericAuthType": "httpHeaderAuth",
        "sendQuery": true,
        "queryParameters": {
          "parameters": [
            {
              "name": "ids",
              "value": "={{ $json.pageId }}"
            }
          ]
        },
        "options": {}
      },
      "type": "n8n-nodes-base.httpRequest",
      "typeVersion": 4.3,
      "position": [
        800,
        384
      ],
      "id": "7bdebacb-7c2a-41a8-b249-81615dcc78c1",
      "name": "HTTP Request",
      "credentials": {
        "httpHeaderAuth": {
          "id": "dFKg2G25H8e1nyzo",
          "name": "Figma Token pradeep"
        }
      }
    },
    {
      "parameters": {
        "jsCode": "function extractTextOnly(nodes = []) {\n  const texts = [];\n\n  for (const node of nodes) {\n\n    // âœ… Extract ONLY visible text\n    if (node.type === 'TEXT' && typeof node.characters === 'string') {\n      const cleanText = node.characters.trim();\n      if (cleanText.length > 0) {\n        texts.push({\n          id: node.id,\n          text: cleanText\n        });\n      }\n    }\n\n    // ðŸ” Recursive traversal\n    if (Array.isArray(node.children)) {\n      texts.push(...extractTextOnly(node.children));\n    }\n  }\n\n  return texts;\n}\n\n// ---------- ENTRY POINT ----------\n\nconst figmaNodes = items[0].json.nodes;\n\n// Safety check\nif (!figmaNodes || Object.keys(figmaNodes).length === 0) {\n  return [{ json: { error: 'No Figma nodes found' } }];\n}\n\n// Login Page document\nconst page = Object.values(figmaNodes)[0]?.document;\n\nif (!page || !Array.isArray(page.children)) {\n  return [{ json: { error: 'Invalid page structure' } }];\n}\n\nconst output = {\n  pageName: page.name,\n  sections: []\n};\n\n// ---------- PAGE â†’ SECTION â†’ FRAME â†’ TEXT ----------\n\nfor (const section of page.children) {\n  if (section.type !== 'SECTION') continue;\n\n  const sectionObj = {\n    sectionName: section.name,\n    frames: []\n  };\n\n  for (const frame of section.children || []) {\n    if (!Array.isArray(frame.children)) continue;\n\n    const texts = extractTextOnly(frame.children);\n\n    if (texts.length > 0) {\n      sectionObj.frames.push({\n        frameName: frame.name,\n        texts\n      });\n    }\n  }\n\n  if (sectionObj.frames.length > 0) {\n    output.sections.push(sectionObj);\n  }\n}\n\nreturn [{ json: output }];\n"
      },
      "type": "n8n-nodes-base.code",
      "typeVersion": 2,
      "position": [
        1024,
        384
      ],
      "id": "8007be91-ad08-45e7-be49-3ba24c1ad94f",
      "name": "Code in JavaScript",
      "alwaysOutputData": true
    },
    {
      "parameters": {
        "promptType": "define",
        "text": "=Instructions:\n Generate complete manual test cases\n   Cover:\n     * UI elements (buttons, fields, labels, icons)\n     * User interactions\n     * Navigation flow\n     * Validations and error states\n     * Accessibility or usability checks if visible\n* Number test cases logically and consistently\n\nUI Flow Information:\n  Flow Name: {{ $json.flowName }}\n  Page Name: {{ $json.pageName }}\n  Section Name: {{ $json.sectionName }}\n\nFrames and Visible Text:\n {{ JSON.stringify($json.frames, null, 2) }}\n\n\nFormat:\n  Test Case ID:\n  Test Case Title:\n  Preconditions:\n  Test Steps:\n  1.\n  2.\n  3.\n  Expected Result:\nThere could be many number of steps Test Steps :1,2,3,4,5... etc...  there is no restriction in number of setps.",
        "hasOutputParser": true,
        "options": {
          "systemMessage": "=You are a Senior QA Engineer specializing in manual UI test case design.\n\nYour task is to generate manual English UI test cases in a\nSTRICT, FIXED JSON STRUCTURE that matches the provided example exactly.\n\nABSOLUTE RULES:\n- Output MUST match the example JSON structure exactly\n- Use numbered step format (1, 2, 3...), NOT GIVEN / WHEN / THEN\n- Multiple test cases per frame are allowed\n- Use ONLY the visible text provided in the input\n- Do NOT invent UI elements that are not present\n- Do NOT include explanations, comments, or markdown\n- Do NOT include Playwright code\n- Use professional QA language\n- Output valid JSON only\n\nASSUMPTION RULE (IMPORTANT):\n- You MAY describe expected UI outcomes such as navigation or success\n  ONLY if they logically follow a primary UI action (e.g. clicking Login),\n  as shown in the example output.\n\nSTRUCTURE ENFORCEMENT:\n- pageName must be a string\n- sectionName must be a string\n- frameName must be a string\n- testCases must be an array\n- Each test case must include:\n  - TC-ID\n  - Title\n  - Preconditions (array of strings)\n  - Steps (array of numbered strings)\n  - Expected Result (array of strings)\n\nIf required UI text is missing, generate test cases ONLY for what is available.\nDo NOT guess field names or labels.\n\nFailure to match the structure exactly is an incorrect response.\n"
        }
      },
      "type": "@n8n/n8n-nodes-langchain.agent",
      "typeVersion": 2.1,
      "position": [
        1760,
        384
      ],
      "id": "ff2bc95f-be5d-4c73-b9d7-93464bf7b75a",
      "name": "AI Agent Checker",
      "retryOnFail": true,
      "onError": "continueRegularOutput"
    },
    {
      "parameters": {
        "jsonSchemaExample": "{\n  \"pageName\": \"Login Page\",\n  \"sectionName\": \"Authentication Section\",\n  \"frameName\": \"Login Form\",\n  \"testCases\": [\n   {\n  \"TC-ID\": \"TC-ADMIN-LOGIN-01\",\n  \"Title\": \"Verify Admin user can login with valid credentials\",\n  \"Preconditions\": [\n    \"User is on the Login Page\",\n    \"Admin Login section is visible\",\n    \"Valid admin email and password are available\"\n  ],\n  \"Steps\": [\n    \" 1. Locate the Email input field\",\n    \" 2. Enter a valid admin email address\",\n    \" 3. Locate the Password input field\",\n    \" 4. Enter a valid password\",\n    \" 5. Click on the Login button\"\n  ],\n  \"Expected Result\": [\n    \"Login request is submitted\",\n    \"User is successfully logged in\",\n    \"Admin dashboard page is displayed\"\n  ]\n},\n    {\n  \"TC-ID\": \"TC-ADMIN-LOGIN-02\",\n  \"Title\": \"Verify error is shown when Login is clicked without entering credentials\",\n  \"Preconditions\": [\n    \"User is on the Login Page\",\n    \"Admin Login section is visible\"\n  ],\n  \"Steps\": [\n    \" 1. Leave the Email input field empty\",\n    \" 2. Leave the Password input field empty\",\n    \" 3. Click on the Login button\"\n  ],\n  \"Expected Result\": [\n    \"Login should not proceed\",\n    \"An error message is displayed indicating required fields\"\n  ]\n},\n    {\n  \"TC-ID\": \"TC-ADMIN-LOGIN-03\",\n  \"Title\": \"Verify Forgot Password link navigates to password recovery screen\",\n  \"Preconditions\": [\n    \"User is on the Login Page\",\n    \"Admin Login section is visible\"\n  ],\n  \"Steps\": [\n    \" 1. Locate the Forgot password link\",\n    \" 2. Click on the Forgot password link\"\n  ],\n  \"Expected Result\": [\n    \"Forgot Password screen is displayed\",\n    \"User is prompted to enter registered email address\"\n  ]\n}   \n  ]\n}"
      },
      "type": "@n8n/n8n-nodes-langchain.outputParserStructured",
      "typeVersion": 1.3,
      "position": [
        1984,
        608
      ],
      "id": "f6413d0c-2567-439f-98a5-7a4b534af9b3",
      "name": "Structured Output Parser"
    },
    {
      "parameters": {
        "fieldToSplitOut": "output.testCases",
        "options": {}
      },
      "type": "n8n-nodes-base.splitOut",
      "typeVersion": 1,
      "position": [
        2160,
        384
      ],
      "id": "621c18c3-58ec-402f-ae42-fc2e9f655fae",
      "name": "Split Out"
    },
    {
      "parameters": {
        "operation": "appendOrUpdate",
        "documentId": {
          "__rl": true,
          "value": "1EUpW1d-sI63PBQJn_JRV6o_c9aKdDls2m60xAb12w6w",
          "mode": "list",
          "cachedResultName": "Figma Test Cases JIA",
          "cachedResultUrl": "https://docs.google.com/spreadsheets/d/1EUpW1d-sI63PBQJn_JRV6o_c9aKdDls2m60xAb12w6w/edit?usp=drivesdk"
        },
        "sheetName": {
          "__rl": true,
          "value": "gid=0",
          "mode": "list",
          "cachedResultName": "Sheet1",
          "cachedResultUrl": "https://docs.google.com/spreadsheets/d/1EUpW1d-sI63PBQJn_JRV6o_c9aKdDls2m60xAb12w6w/edit#gid=0"
        },
        "columns": {
          "mappingMode": "autoMapInputData",
          "value": {},
          "matchingColumns": [
            "TC-ID"
          ],
          "schema": [
            {
              "id": "TC-ID",
              "displayName": "TC-ID",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": false
            },
            {
              "id": "Title",
              "displayName": "Title",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": false
            },
            {
              "id": "Preconditions",
              "displayName": "Preconditions",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": false
            },
            {
              "id": "Steps",
              "displayName": "Steps",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": false
            },
            {
              "id": "Expected Result",
              "displayName": "Expected Result",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": false
            }
          ],
          "attemptToConvertTypes": false,
          "convertFieldsToString": false
        },
        "options": {}
      },
      "type": "n8n-nodes-base.googleSheets",
      "typeVersion": 4.7,
      "position": [
        2384,
        512
      ],
      "id": "43a95b5d-77ca-47a1-a03d-8313e5f879ff",
      "name": "Append or update row in sheet",
      "credentials": {
        "googleSheetsOAuth2Api": {
          "id": "kpPEOLCGn963qpoh",
          "name": "automations@techdome.ai"
        }
      }
    },
    {
      "parameters": {
        "model": {
          "__rl": true,
          "value": "gpt-4o",
          "mode": "list",
          "cachedResultName": "gpt-4o"
        },
        "responsesApiEnabled": false,
        "options": {}
      },
      "type": "@n8n/n8n-nodes-langchain.lmChatOpenAi",
      "typeVersion": 1.3,
      "position": [
        1648,
        608
      ],
      "id": "c4c19a85-d0cd-4fc4-af97-eb42d757a1a3",
      "name": "OpenAI Chat Model1",
      "credentials": {
        "openAiApi": {
          "id": "5Kzt6hGSZ1JHZqWN",
          "name": "OpenAi account 2"
        }
      }
    },
    {
      "parameters": {
        "jsCode": "// Get all items from previous node\nconst items = $input.all();\n\n// Helper function to find actual text content in node\nfunction getTextContent(node) {\n  if (node.type === 'TEXT' && node.characters) {\n    return node.characters;\n  }\n  \n  if (node.children && node.children.length > 0) {\n    for (const child of node.children) {\n      const text = getTextContent(child);\n      if (text) return text;\n    }\n  }\n  \n  return null;\n}\n\n// Helper function to detect element type\nfunction detectElementType(node) {\n  const name = node.name.toLowerCase();\n  const type = node.type;\n  \n  // Check by component properties first\n  if (node.componentProperties) {\n    const props = JSON.stringify(node.componentProperties).toLowerCase();\n    if (props.includes('input') || props.includes('field')) return 'INPUT';\n    if (props.includes('button')) return 'BUTTON';\n  }\n  \n  // Check by name patterns\n  if (/input|field|textfield|email|password/i.test(name)) return 'INPUT';\n  if (/button|btn/i.test(name)) return 'BUTTON';\n  if (/checkbox|check/i.test(name)) return 'CHECKBOX';\n  if (/dropdown|select/i.test(name)) return 'DROPDOWN';\n  if (/radio/i.test(name)) return 'RADIO';\n  if (/textarea/i.test(name)) return 'TEXTAREA';\n  if (/upload|file/i.test(name)) return 'UPLOAD';\n  if (/toggle|switch/i.test(name)) return 'TOGGLE';\n  if (/link/i.test(name) && type !== 'FRAME') return 'LINK';\n  \n  return null;\n}\n\n// Helper function to get action\nfunction getAction(elementType) {\n  const actionMap = {\n    'INPUT': 'fill',\n    'BUTTON': 'click',\n    'LINK': 'click',\n    'CHECKBOX': 'check',\n    'DROPDOWN': 'select',\n    'RADIO': 'click',\n    'TEXTAREA': 'fill',\n    'UPLOAD': 'upload',\n    'TOGGLE': 'click'\n  };\n  return actionMap[elementType] || 'click';\n}\n\n// Helper function to extract input type from text content\nfunction extractInputType(textContent) {\n  if (!textContent) return 'text';\n  \n  const text = textContent.toLowerCase();\n  if (/email|e-mail/i.test(text)) return 'email';\n  if (/password|pwd/i.test(text)) return 'password';\n  if (/phone|mobile|tel/i.test(text)) return 'tel';\n  if (/number|amount|quantity/i.test(text)) return 'number';\n  if (/date|dob|birth/i.test(text)) return 'date';\n  if (/url|website|link/i.test(text)) return 'url';\n  if (/search/i.test(text)) return 'search';\n  \n  return 'text';\n}\n\n// Helper function to generate test data\nfunction generateTestData(inputType, textContent) {\n  const text = (textContent || '').toLowerCase();\n  \n  if (inputType === 'email' || /email/i.test(text)) return 'admin@techdome.com';\n  if (inputType === 'password' || /password/i.test(text)) return 'Test@12345';\n  if (inputType === 'tel' || /phone/i.test(text)) return '+1234567890';\n  if (inputType === 'number') return '100';\n  if (inputType === 'date') return '2024-01-01';\n  if (inputType === 'url') return 'https://example.com';\n  if (inputType === 'search') return 'search query';\n  if (/name/i.test(text)) return 'John Doe';\n  if (/address/i.test(text)) return '123 Main St';\n  if (/city/i.test(text)) return 'New York';\n  if (/zip|postal/i.test(text)) return '10001';\n  if (/company|organization/i.test(text)) return 'TechDome Solutions';\n  \n  return 'test data';\n}\n\n// Helper function to extract elements\nfunction extractElements(node, elements = [], stepNumber = { value: 1 }) {\n  const elementType = detectElementType(node);\n  \n  if (elementType) {\n    // Get actual text content from child TEXT nodes\n    const textContent = getTextContent(node);\n    \n    // Skip if no meaningful text content\n    if (!textContent || textContent.trim().length === 0) {\n      // Continue traversing children\n      if (node.children && node.children.length > 0) {\n        for (const child of node.children) {\n          extractElements(child, elements, stepNumber);\n        }\n      }\n      return elements;\n    }\n    \n    const element = {\n      stepNumber: stepNumber.value++,\n      elementName: textContent,\n      elementType: elementType,\n      action: getAction(elementType)\n    };\n    \n    if (elementType === 'INPUT') {\n      const inputType = extractInputType(textContent);\n      element.inputType = inputType;\n      element.placeholder = textContent;\n      element.testData = generateTestData(inputType, textContent);\n      element.selector = `input[placeholder*=\"${textContent}\"]`;\n    } else if (elementType === 'BUTTON') {\n      element.buttonText = textContent;\n      element.selector = `button:has-text(\"${textContent}\")`;\n    } else if (elementType === 'LINK') {\n      element.linkText = textContent;\n      element.selector = `a:has-text(\"${textContent}\")`;\n    } else if (elementType === 'CHECKBOX') {\n      element.label = textContent;\n      element.selector = `//label[contains(text(), '${textContent}')]/..//input[@type='checkbox']`;\n    } else {\n      element.selector = `//*[contains(text(), '${textContent}')]`;\n    }\n    \n    elements.push(element);\n  }\n  \n  // Recursively traverse children\n  if (node.children && node.children.length > 0) {\n    for (const child of node.children) {\n      extractElements(child, elements, stepNumber);\n    }\n  }\n  \n  return elements;\n}\n\n// Group by section\nconst sectionGroups = {};\n\nfor (const item of items) {\n  const data = item.json;\n  const sectionName = data.sectionName;\n  const pageName = data.pageName;\n  const frameName = data.frameName;\n  const frameNode = data.frameNode;\n  \n  if (!sectionGroups[sectionName]) {\n    sectionGroups[sectionName] = {\n      pageName: pageName,\n      sectionName: sectionName,\n      frames: []\n    };\n  }\n  \n  const elements = extractElements(frameNode);\n  \n  if (elements.length > 0) {\n    sectionGroups[sectionName].frames.push({\n      frameName: frameName,\n      elements: elements\n    });\n  }\n}\n\nreturn Object.values(sectionGroups).map(section => ({ json: section }));"
      },
      "type": "n8n-nodes-base.code",
      "typeVersion": 2,
      "position": [
        -96,
        -608
      ],
      "id": "0379e955-da71-4a25-81e4-0d4720316a22",
      "name": "Code in JavaScript2"
    },
    {
      "parameters": {
        "jsCode": "const page = items[0].json;\n\nconst flowsArray = [];\n\nfor (const section of page.sections || []) {\n  flowsArray.push({\n    flowName: section.sectionName.replace(/\\s+/g, '') + 'Flow',\n    pageName: page.pageName,\n    sectionName: section.sectionName,\n    frames: section.frames\n  });\n}\n\nreturn flowsArray.map(flow => ({ json: flow }));\n"
      },
      "type": "n8n-nodes-base.code",
      "typeVersion": 2,
      "position": [
        1248,
        384
      ],
      "id": "d21593b6-f5f1-4c7b-b377-9ebc5eef5ab0",
      "name": "Code in JavaScript3"
    },
    {
      "parameters": {
        "options": {}
      },
      "type": "n8n-nodes-base.splitInBatches",
      "typeVersion": 3,
      "position": [
        576,
        512
      ],
      "id": "7f67794e-8ad6-4444-a149-f58a9c264fd9",
      "name": "Loop Over Items1"
    },
    {
      "parameters": {
        "assignments": {
          "assignments": [
            {
              "id": "8bd65908-1242-4d72-a26f-397468593516",
              "name": "pageId",
              "value": "={{ $json.pageId }}",
              "type": "string"
            },
            {
              "id": "c1666cbb-7ea8-415d-9971-f5b2f5b86a77",
              "name": "pageName",
              "value": "={{ $json.pageName }}",
              "type": "string"
            }
          ]
        },
        "options": {}
      },
      "type": "n8n-nodes-base.set",
      "typeVersion": 3.4,
      "position": [
        -96,
        48
      ],
      "id": "f2eb8745-50d6-4c9a-a0e5-bb76fe0d20d6",
      "name": "Edit Fields"
    },
    {
      "parameters": {
        "assignments": {
          "assignments": [
            {
              "id": "c469836a-16ea-4294-be3e-8e44bd420c44",
              "name": "flowName",
              "value": "={{ $json.flowName }}",
              "type": "string"
            },
            {
              "id": "a4db9686-d211-4d42-9a47-b48609c1cb3d",
              "name": "pageName",
              "value": "={{ $json.pageName }}",
              "type": "string"
            },
            {
              "id": "9eee11bd-f249-4d04-a9ba-afeb744c9a95",
              "name": "sectionName",
              "value": "={{ $json.sectionName }}",
              "type": "string"
            },
            {
              "id": "4a7c983a-1a39-4523-ad88-0f8a06423dbb",
              "name": "frames",
              "value": "={{ $json.frames }}",
              "type": "array"
            }
          ]
        },
        "options": {}
      },
      "type": "n8n-nodes-base.set",
      "typeVersion": 3.4,
      "position": [
        1472,
        384
      ],
      "id": "00a9701a-4929-4d6d-babe-ade0230e168d",
      "name": "Edit Fields1"
    },
    {
      "parameters": {
        "description": "Write The Test Case in this Format.",
        "jsCode": "return {\n   test('TC_ADDON_02 - Upgrade Individual Plan to Team Plan and Verify Credits', async () => {\n    // Step 1: Click on Billing & Plans button\n    await sharedPage.locator(\"//span[text()='Billing & Plans']\").click();\n    console.log('Clicked Billing & Plans');\n    \n    // Step 2: Wait for the page to load\n    await sharedPage.waitForTimeout(3000);\n    console.log('Billing & Plans page loaded');\n    \n    // Step 3: Find Team Plan card and click Upgrade Plan button\n    await sharedPage.evaluate(() => {\n      const buttons = Array.from(document.querySelectorAll('button')).filter(btn => btn.textContent.includes('Upgrade Plan'));\n      if (buttons[0]) buttons[0].click(); // First Upgrade Plan button is for Team Plan\n    });\n    await sharedPage.waitForTimeout(2000);\n    console.log('Clicked Team Plan Upgrade button');\n    \n    // Step 4: Wait for the popup to load\n    await sharedPage.waitForTimeout(2000);\n    console.log('Upgrade popup loaded');\n    \n    // Step 5: Click the Confirm button\n    await sharedPage.evaluate(() => {\n      const confirmButtons = Array.from(document.querySelectorAll('button')).filter(btn => btn.textContent.trim() === 'Confirm');\n      if (confirmButtons[0]) confirmButtons[0].click();\n    });\n    console.log('Clicked Confirm button');\n    \n    // Step 6: Wait for around 15 seconds and reload the page\n    await sharedPage.waitForTimeout(15000);\n    await sharedPage.reload();\n    await sharedPage.waitForTimeout(3000);\n    console.log('Page reloaded after upgrade');\n    \n    // Click on Dashboard button and wait for page to load\n    await sharedPage.locator(\"//span[text()='Dashboard']\").click();\n    await sharedPage.waitForTimeout(3000);\n    await sharedPage.waitForSelector(\"//h2[text()='Candidates']\");\n    console.log('Dashboard loaded');\n    \n    // Step 7: Find and verify 'Invites Left: 26'\n    await sharedPage.waitForSelector('span.text-green-500');\n    const dashboardInvites = sharedPage.locator('span.text-green-500');\n    await sharedPage.waitForTimeout(3000);\n    const dashboardFullText = await dashboardInvites.innerText();\n    const dashboardInvitesLeft = dashboardFullText.replace('Invites Left:', '').trim();\n    console.log('Dashboard Invites Left:', dashboardInvitesLeft);\n    expect(dashboardInvitesLeft).toBe('26');\n    console.log('âœ“ Dashboard Invites Left: 26 confirmed');\n    \n    // Step 8: Click on HR Dashboard button and verify 'Invites Left: 6'\n    await sharedPage.locator(\"//span[text()='HR Dashboard']\").click();\n    await sharedPage.waitForTimeout(3000);\n    await sharedPage.waitForSelector('span.text-green-500');\n    const hrInvites = sharedPage.locator('span.text-green-500');\n    await sharedPage.waitForTimeout(3000);\n    const hrFullText = await hrInvites.innerText();\n    const hrInvitesLeft = hrFullText.replace('Invites Left:', '').trim();\n    console.log('HR Dashboard Invites Left:', hrInvitesLeft);\n    expect(hrInvitesLeft).toBe('6');\n    console.log('âœ“ HR Dashboard Invites Left: 6 confirmed');\n    \n    // Step 9-11: Click on JD Manager and verify 'Invites Left: 6'\n    await sharedPage.locator(\"//span[text()='JD Manager']\").click();\n    await sharedPage.waitForTimeout(3000);\n    await sharedPage.waitForSelector('span.text-green-500');\n    const jdInvites = sharedPage.locator('span.text-green-500');\n    await sharedPage.waitForTimeout(3000);\n    const jdFullText = await jdInvites.innerText();\n    const jdInvitesLeft = jdFullText.replace('Invites Left:', '').trim();\n    console.log('JD Manager Invites Left:', jdInvitesLeft);\n    expect(jdInvitesLeft).toBe('6');\n    console.log('âœ“ JD Manager Invites Left: 6 confirmed');\n    \n    console.log('Team Plan upgrade test completed successfully!');\n  }); \n}"
      },
      "type": "@n8n/n8n-nodes-langchain.toolCode",
      "typeVersion": 1.3,
      "position": [
        2304,
        1712
      ],
      "id": "d722e0cf-90ed-4232-b15a-fe1eabca3bbe",
      "name": "Code Tool"
    },
    {
      "parameters": {
        "operation": "write",
        "fileName": "C:\\Users\\PradeepSahu\\Desktop\\Playwright MCP\\test.spec.js",
        "options": {}
      },
      "type": "n8n-nodes-base.readWriteFile",
      "typeVersion": 1,
      "position": [
        640,
        16
      ],
      "id": "12833580-cfe1-4de4-948e-0ac9726b496b",
      "name": "Read/Write Files from Disk"
    },
    {
      "parameters": {
        "mode": "jsonToBinary",
        "destinationKey": "=data",
        "options": {
          "encoding": "base64",
          "fileName": "New file",
          "keepSource": false
        }
      },
      "id": "bfc420e1-b839-48be-ab93-69e4bef8e660",
      "name": "Convert File",
      "type": "n8n-nodes-base.moveBinaryData",
      "typeVersion": 1,
      "position": [
        464,
        32
      ]
    },
    {
      "parameters": {
        "jsCode": "// Existing file content\nlet existing = '';\nif (items[0].binary?.data) {\n  existing = Buffer.from(items[0].binary.data, 'base64').toString('utf8');\n}\n\n// New test code from AI\nconst newTest = $json.text || '';\n\n// Append with spacing\nconst combined = `${existing}\\n\\n${newTest}`;\n\nreturn [{\n  binary: {\n    data: Buffer.from(combined).toString('base64')\n  }\n}];\n"
      },
      "type": "n8n-nodes-base.code",
      "typeVersion": 2,
      "position": [
        224,
        0
      ],
      "id": "7d297818-d077-41c1-832d-82dfec90a63c",
      "name": "Code in JavaScript1"
    },
    {
      "parameters": {
        "documentId": {
          "__rl": true,
          "value": "1EUpW1d-sI63PBQJn_JRV6o_c9aKdDls2m60xAb12w6w",
          "mode": "list",
          "cachedResultName": "Figma Test Cases JIA",
          "cachedResultUrl": "https://docs.google.com/spreadsheets/d/1EUpW1d-sI63PBQJn_JRV6o_c9aKdDls2m60xAb12w6w/edit?usp=drivesdk"
        },
        "sheetName": {
          "__rl": true,
          "value": "gid=0",
          "mode": "list",
          "cachedResultName": "Sheet1",
          "cachedResultUrl": "https://docs.google.com/spreadsheets/d/1EUpW1d-sI63PBQJn_JRV6o_c9aKdDls2m60xAb12w6w/edit#gid=0"
        },
        "options": {}
      },
      "type": "n8n-nodes-base.googleSheets",
      "typeVersion": 4.7,
      "position": [
        928,
        1248
      ],
      "id": "4d8a1a78-ea60-4994-b91c-094644afc8b5",
      "name": "Get row(s) in sheet",
      "credentials": {
        "googleSheetsOAuth2Api": {
          "id": "kpPEOLCGn963qpoh",
          "name": "automations@techdome.ai"
        }
      }
    },
    {
      "parameters": {
        "promptType": "define",
        "text": "=Generate a Playwright JS test case from the following input JSON.\n\nINPUT TEST CASE:\n{{ JSON.stringify($json, null, 2) }}\n\nINSTRUCTIONS:\n- Parse Preconditions, Steps, and Expected Result\n- Convert each step into Playwright actions\n- Log every step\n- Use realistic waits\n- Verify UI text and statuses exactly\n- Follow the example test structure strictly\n",
        "hasOutputParser": true,
        "options": {
          "systemMessage": "=You are an expert QA Automation Engineer specializing in Playwright and n8n AI workflows.\n\nYour task is to convert structured test case JSON input into executable Playwright JavaScript test code.\n\nSTRICT RULES:\n- Use @playwright/test syntax\n- Generate exactly ONE test() per test case\n- Follow GIVEN / WHEN / AND / THEN step mapping\n- Use sharedPage for all interactions\n- Add clear console.log() after every step\n- Wait for elements before interacting\n- Prefer XPath selectors using visible text\n- Perform real assertions using expect()\n- Do NOT explain anything\n- Do NOT return markdown\n- Only import these things singel times in the file do not gnerated this thing on v=every isngle js testcase code you generatw \n  - const { test, expect } = require('@playwright/test');\nconst CreditsValidationPage = require('../pages/CreditsValidationPage');\nconst testData = require('../testdata.json');\n\ntest.describe.serial('Add-ons Purchase Tests', () => {\n  let creditsPage;\n  let sharedPage;\n\n  test.beforeAll(async ({ browser }) => {\n    // Create a single browser context and page for all tests\n    const context = await browser.newContext();\n    sharedPage = await context.newPage();\n    creditsPage = new CreditsValidationPage(sharedPage);\n    \n    // First, we need to create an Individual Plan to get credentials\n    console.log('Setting up Individual Plan for Add-ons testing...');\n    const data = testData.JIA;\n    const userEmail = creditsPage.generateRandomEmail();\n    \n    // Buy Individual Plan\n    const isPaymentSuccess = await creditsPage.buyIndividualPlan(\n      data.firstName,\n      data.lastName,\n      data.contactNumber,\n      userEmail,\n      data.countryName,\n      data.cardNumber,\n      data.date,\n      data.fullNameOnCard,\n      data.phoneNumber\n    );\n    \n    expect(isPaymentSuccess).toBe(true);\n    console.log('Individual Plan purchased successfully');\n    \n    // Fetch credentials from Yopmail\n    await creditsPage.fetchingEmailAndPasswordForIndividualPlan();\n    console.log('Credentials fetched:', creditsPage.individualPlanMap);\n  });\n\n  test.afterAll(async () => {\n    // Close the shared page after all tests\n    if (sharedPage) {\n      await sharedPage.close();\n    }\n  });\n-\n- Return ONLY valid JavaScript code\n\nASSERTION RULES:\n- \"reads the tip\" â†’ verify text is visible\n- \"checks the statuses\" â†’ verify all listed components show expected status\n- \"should show\" â†’ exact text match required\n\nERROR HANDLING:\n- If selector is unclear, use best possible visible-text selector\n- Always wait before verify\n- Fail test if assertion does not match\n\nOUTPUT:\n- JavaScript code only\n"
        }
      },
      "type": "@n8n/n8n-nodes-langchain.agent",
      "typeVersion": 3,
      "position": [
        1472,
        1264
      ],
      "id": "ed723719-ac14-4187-b055-bc5ff1baacd2",
      "name": "AI Agent"
    },
    {
      "parameters": {
        "model": {
          "__rl": true,
          "value": "gpt-4o-mini",
          "mode": "list",
          "cachedResultName": "gpt-4o-mini"
        },
        "responsesApiEnabled": false,
        "options": {}
      },
      "type": "@n8n/n8n-nodes-langchain.lmChatOpenAi",
      "typeVersion": 1.3,
      "position": [
        1328,
        1584
      ],
      "id": "ece8294d-ae4f-4947-82a9-ccd72a52d228",
      "name": "OpenAI Chat Model2",
      "credentials": {
        "openAiApi": {
          "id": "fcc0YsAnyxvK2gD4",
          "name": "OpenAi account 3"
        }
      }
    },
    {
      "parameters": {
        "sessionIdType": "customKey",
        "sessionKey": "mcp"
      },
      "type": "@n8n/n8n-nodes-langchain.memoryBufferWindow",
      "typeVersion": 1.3,
      "position": [
        1552,
        1568
      ],
      "id": "465d66c2-7949-4614-95d9-9eea32b1f437",
      "name": "Simple Memory"
    },
    {
      "parameters": {
        "options": {}
      },
      "type": "n8n-nodes-base.splitInBatches",
      "typeVersion": 3,
      "position": [
        1168,
        1248
      ],
      "id": "3fa5f812-34c9-4fc7-a956-b1354f7dedec",
      "name": "Loop Over Items"
    },
    {
      "parameters": {
        "jsonSchemaExample": "{\n  \"testName\": \"string\",\n  \"playwrightTestCode\": \"string\"\n}\n"
      },
      "type": "@n8n/n8n-nodes-langchain.outputParserStructured",
      "typeVersion": 1.3,
      "position": [
        1744,
        1568
      ],
      "id": "7408bad5-4a0f-4ef7-b0c5-cd4c99ea7ca2",
      "name": "Structured Output Parser1"
    },
    {
      "parameters": {
        "operation": "toJson",
        "options": {}
      },
      "type": "n8n-nodes-base.convertToFile",
      "typeVersion": 1.1,
      "position": [
        3616,
        496
      ],
      "id": "3241698c-ce95-4814-ac3a-d2bd892c762d",
      "name": "Convert to File"
    },
    {
      "parameters": {
        "operation": "download",
        "fileId": {
          "__rl": true,
          "value": "11kOK_6SXy9N66kTZYEGTBsDHem8QX0-V",
          "mode": "list",
          "cachedResultName": "testspecs.js",
          "cachedResultUrl": "https://drive.google.com/file/d/11kOK_6SXy9N66kTZYEGTBsDHem8QX0-V/view?usp=drivesdk"
        },
        "options": {}
      },
      "type": "n8n-nodes-base.googleDrive",
      "typeVersion": 3,
      "position": [
        3280,
        480
      ],
      "id": "9c244e03-e5ec-432b-9dfc-d7c6422fce5b",
      "name": "Download file",
      "credentials": {
        "googleDriveOAuth2Api": {
          "id": "E7nEqUL27GUx1xHa",
          "name": "Techdome Account"
        }
      }
    },
    {
      "parameters": {
        "operation": "update",
        "fileId": {
          "__rl": true,
          "value": "11kOK_6SXy9N66kTZYEGTBsDHem8QX0-V",
          "mode": "list",
          "cachedResultName": "testspecs.js",
          "cachedResultUrl": "https://drive.google.com/file/d/11kOK_6SXy9N66kTZYEGTBsDHem8QX0-V/view?usp=drivesdk"
        },
        "changeFileContent": true,
        "inputDataFieldName": "=data",
        "options": {}
      },
      "type": "n8n-nodes-base.googleDrive",
      "typeVersion": 3,
      "position": [
        3296,
        768
      ],
      "id": "7ffdcafc-b853-4a2f-997a-fe5944adfc9b",
      "name": "Update file",
      "alwaysOutputData": true,
      "credentials": {
        "googleDriveOAuth2Api": {
          "id": "E7nEqUL27GUx1xHa",
          "name": "Techdome Account"
        }
      }
    },
    {
      "parameters": {},
      "type": "n8n-nodes-base.merge",
      "typeVersion": 3.2,
      "position": [
        1888,
        1280
      ],
      "id": "1ca886b8-b07f-434a-b4f8-0736cb6be2ca",
      "name": "Merge"
    },
    {
      "parameters": {
        "jsCode": "const existing = items[0].json.existingContent || '';\nconst newTests = items[0].json.combinedTests;\n\nconst finalContent = `${existing}\n\n//\n// ===== AUTO-GENERATED TEST CASES =====\n//\n\n${newTests}\n`;\n\nreturn [{\n  json: {\n    content: finalContent\n  }\n}];\n"
      },
      "type": "n8n-nodes-base.code",
      "typeVersion": 2,
      "position": [
        4256,
        480
      ],
      "id": "43d72de4-5b14-4959-89a2-3d1232e53d81",
      "name": "Append to testspecs.js"
    },
    {
      "parameters": {
        "jsCode": "const tests = items\n  .map((item, index) => {\n    if (!item.json.output) return null;\n\n    return {\n      id: index + 1,           // unique ID\n      output: item.json.output\n    };\n  })\n  .filter(Boolean);\n\nreturn [\n  {\n    json: {\n      tests\n    }\n  }\n];\n"
      },
      "type": "n8n-nodes-base.code",
      "typeVersion": 2,
      "position": [
        2128,
        1280
      ],
      "id": "076593bc-a316-4875-96b0-4a8b0202e533",
      "name": "combine all test"
    },
    {
      "parameters": {
        "mode": "combine",
        "combineBy": "combineByPosition",
        "options": {}
      },
      "type": "n8n-nodes-base.merge",
      "typeVersion": 3.2,
      "position": [
        3952,
        496
      ],
      "id": "d3f7a811-8d0e-48f6-99d9-6e6e973b0092",
      "name": "Merge1",
      "executeOnce": false,
      "alwaysOutputData": true
    },
    {
      "parameters": {
        "operation": "toText",
        "sourceProperty": "=content",
        "options": {}
      },
      "type": "n8n-nodes-base.convertToFile",
      "typeVersion": 1.1,
      "position": [
        4528,
        480
      ],
      "id": "aebbb9cb-d296-4197-b52f-d20d79a2785b",
      "name": "Convert to File1"
    },
    {
      "parameters": {
        "model": "gpt-4o",
        "options": {}
      },
      "type": "@n8n/n8n-nodes-langchain.lmChatAzureOpenAi",
      "typeVersion": 1,
      "position": [
        1120,
        1552
      ],
      "id": "0005fb09-a38a-4ce4-8925-b109adc1ffc7",
      "name": "Azure OpenAI Chat Model",
      "credentials": {
        "azureOpenAiApi": {
          "id": "C3WzT18XqF8OdVM6",
          "name": "Azure Open AI account"
        }
      }
    },
    {
      "parameters": {
        "operation": "appendOrUpdate",
        "documentId": {
          "__rl": true,
          "mode": "list",
          "value": ""
        },
        "sheetName": {
          "__rl": true,
          "mode": "list",
          "value": ""
        }
      },
      "type": "n8n-nodes-base.googleSheets",
      "typeVersion": 4.7,
      "position": [
        4368,
        1440
      ],
      "id": "3f5d7020-dc4e-4e90-975d-b180f356f671",
      "name": "Append or update row in sheet1",
      "credentials": {
        "googleSheetsOAuth2Api": {
          "id": "xQrnTCAAPdDyBrUE",
          "name": "Snehy"
        }
      }
    },
    {
      "parameters": {
        "operation": "append",
        "documentId": {
          "__rl": true,
          "value": "17rcNd_ZpUQLm0uWEVbD-NY6GyFUkrD4BglvawlyBygM",
          "mode": "list",
          "cachedResultName": "sample_leads_50",
          "cachedResultUrl": "https://docs.google.com/spreadsheets/d/17rcNd_ZpUQLm0uWEVbD-NY6GyFUkrD4BglvawlyBygM/edit?usp=drivesdk"
        },
        "sheetName": {
          "__rl": true,
          "value": 630358545,
          "mode": "list",
          "cachedResultName": "JIA test case",
          "cachedResultUrl": "https://docs.google.com/spreadsheets/d/17rcNd_ZpUQLm0uWEVbD-NY6GyFUkrD4BglvawlyBygM/edit#gid=630358545"
        },
        "columns": {
          "mappingMode": "defineBelow",
          "value": {
            "test Cases": "={{ $json.combinedTests }}"
          },
          "matchingColumns": [
            "test Cases"
          ],
          "schema": [
            {
              "id": "test Cases",
              "displayName": "test Cases",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": false
            }
          ],
          "attemptToConvertTypes": false,
          "convertFieldsToString": false
        },
        "options": {}
      },
      "type": "n8n-nodes-base.googleSheets",
      "typeVersion": 4.7,
      "position": [
        2752,
        1472
      ],
      "id": "7fa0b53c-417b-4426-87a0-29c8f7a4da5d",
      "name": "Append row in sheet",
      "credentials": {
        "googleSheetsOAuth2Api": {
          "id": "kpPEOLCGn963qpoh",
          "name": "automations@techdome.ai"
        }
      }
    },
    {
      "parameters": {
        "options": {}
      },
      "type": "n8n-nodes-base.splitInBatches",
      "typeVersion": 3,
      "position": [
        2288,
        1440
      ],
      "id": "b48cf38d-6596-46c8-bbf0-2cdc6c2b086d",
      "name": "Loop Over Items2"
    },
    {
      "parameters": {
        "fieldToSplitOut": "tests",
        "options": {}
      },
      "type": "n8n-nodes-base.splitOut",
      "typeVersion": 1,
      "position": [
        2480,
        1456
      ],
      "id": "1f4fd7b9-4022-41b0-b3c3-352661f0de79",
      "name": "Split Out1"
    },
    {
      "parameters": {
        "documentId": {
          "__rl": true,
          "value": "1EUpW1d-sI63PBQJn_JRV6o_c9aKdDls2m60xAb12w6w",
          "mode": "list",
          "cachedResultName": "Figma Test Cases JIA",
          "cachedResultUrl": "https://docs.google.com/spreadsheets/d/1EUpW1d-sI63PBQJn_JRV6o_c9aKdDls2m60xAb12w6w/edit?usp=drivesdk"
        },
        "sheetName": {
          "__rl": true,
          "value": "gid=0",
          "mode": "list",
          "cachedResultName": "Sheet1",
          "cachedResultUrl": "https://docs.google.com/spreadsheets/d/1EUpW1d-sI63PBQJn_JRV6o_c9aKdDls2m60xAb12w6w/edit#gid=0"
        },
        "options": {}
      },
      "type": "n8n-nodes-base.googleSheets",
      "typeVersion": 4.7,
      "position": [
        1120,
        2096
      ],
      "id": "f7513362-8e5b-4e1d-82e5-a6ab3d93a58a",
      "name": "Get row(s) in sheet1",
      "credentials": {
        "googleSheetsOAuth2Api": {
          "id": "kpPEOLCGn963qpoh",
          "name": "automations@techdome.ai"
        }
      }
    },
    {
      "parameters": {
        "promptType": "define",
        "text": "=Generate a Playwright JS test case from the following input JSON.\n\nINPUT TEST CASE:\n{{ JSON.stringify($json, null, 2) }}\n\nINSTRUCTIONS:\n- Parse Preconditions, Steps, and Expected Result\n- Convert each step into Playwright actions\n- Log every step\n- Use realistic waits\n- Verify UI text and statuses exactly\n- Follow the example test structure strictly\n",
        "hasOutputParser": true,
        "options": {
          "systemMessage": "=You are an expert QA Automation Engineer specializing in Playwright and n8n AI workflows.\n\nYour task is to convert structured test case JSON input into executable Playwright JavaScript test code.\n\nSTRICT RULES:\n- Use @playwright/test syntax\n- Generate exactly ONE test() per test case\n- Follow GIVEN / WHEN / AND / THEN step mapping\n- Use sharedPage for all interactions\n- Add clear console.log() after every step\n- Wait for elements before interacting\n- Prefer XPath selectors using visible text\n- Perform real assertions using expect()\n- Do NOT explain anything\n- Do NOT return markdown\n- Only import these things singel times in the file do not gnerated this thing on v=every isngle js testcase code you generatw \n  - const { test, expect } = require('@playwright/test');\nconst CreditsValidationPage = require('../pages/CreditsValidationPage');\nconst testData = require('../testdata.json');\n\ntest.describe.serial('Add-ons Purchase Tests', () => {\n  let creditsPage;\n  let sharedPage;\n\n  test.beforeAll(async ({ browser }) => {\n    // Create a single browser context and page for all tests\n    const context = await browser.newContext();\n    sharedPage = await context.newPage();\n    creditsPage = new CreditsValidationPage(sharedPage);\n    \n    // First, we need to create an Individual Plan to get credentials\n    console.log('Setting up Individual Plan for Add-ons testing...');\n    const data = testData.JIA;\n    const userEmail = creditsPage.generateRandomEmail();\n    \n    // Buy Individual Plan\n    const isPaymentSuccess = await creditsPage.buyIndividualPlan(\n      data.firstName,\n      data.lastName,\n      data.contactNumber,\n      userEmail,\n      data.countryName,\n      data.cardNumber,\n      data.date,\n      data.fullNameOnCard,\n      data.phoneNumber\n    );\n    \n    expect(isPaymentSuccess).toBe(true);\n    console.log('Individual Plan purchased successfully');\n    \n    // Fetch credentials from Yopmail\n    await creditsPage.fetchingEmailAndPasswordForIndividualPlan();\n    console.log('Credentials fetched:', creditsPage.individualPlanMap);\n  });\n\n  test.afterAll(async () => {\n    // Close the shared page after all tests\n    if (sharedPage) {\n      await sharedPage.close();\n    }\n  });\n-\n- Return ONLY valid JavaScript code\n\nASSERTION RULES:\n- \"reads the tip\" â†’ verify text is visible\n- \"checks the statuses\" â†’ verify all listed components show expected status\n- \"should show\" â†’ exact text match required\n\nERROR HANDLING:\n- If selector is unclear, use best possible visible-text selector\n- Always wait before verify\n- Fail test if assertion does not match\n\nOUTPUT:\n- JavaScript code only\n"
        }
      },
      "type": "@n8n/n8n-nodes-langchain.agent",
      "typeVersion": 3,
      "position": [
        1664,
        2112
      ],
      "id": "9c528bbe-a51d-4be1-8dfc-6846373dbbe6",
      "name": "AI Agent1"
    },
    {
      "parameters": {
        "model": {
          "__rl": true,
          "value": "gpt-4o-mini",
          "mode": "list",
          "cachedResultName": "gpt-4o-mini"
        },
        "responsesApiEnabled": false,
        "options": {}
      },
      "type": "@n8n/n8n-nodes-langchain.lmChatOpenAi",
      "typeVersion": 1.3,
      "position": [
        1520,
        2432
      ],
      "id": "da0fb02c-9bad-42ea-91fb-23ebeca38c82",
      "name": "OpenAI Chat Model3",
      "credentials": {
        "openAiApi": {
          "id": "fcc0YsAnyxvK2gD4",
          "name": "OpenAi account 3"
        }
      }
    },
    {
      "parameters": {
        "sessionIdType": "customKey",
        "sessionKey": "mcp"
      },
      "type": "@n8n/n8n-nodes-langchain.memoryBufferWindow",
      "typeVersion": 1.3,
      "position": [
        1744,
        2416
      ],
      "id": "026612a0-2127-49e1-87ae-bd9bd7a021ea",
      "name": "Simple Memory1"
    },
    {
      "parameters": {
        "options": {}
      },
      "type": "n8n-nodes-base.splitInBatches",
      "typeVersion": 3,
      "position": [
        1360,
        2096
      ],
      "id": "7d1adeb3-d6ad-4536-a52c-62a355076f30",
      "name": "Loop Over Items3"
    },
    {
      "parameters": {
        "jsonSchemaExample": "{\n  \"testName\": \"string\",\n  \"playwrightTestCode\": \"string\"\n}\n"
      },
      "type": "@n8n/n8n-nodes-langchain.outputParserStructured",
      "typeVersion": 1.3,
      "position": [
        1936,
        2416
      ],
      "id": "1017af58-9453-4f7e-8961-56af6e5b8b61",
      "name": "Structured Output Parser2"
    },
    {
      "parameters": {},
      "type": "n8n-nodes-base.merge",
      "typeVersion": 3.2,
      "position": [
        2080,
        2128
      ],
      "id": "affa6edc-04d1-4c04-a1d8-fbb9eed7eee1",
      "name": "Merge2"
    },
    {
      "parameters": {
        "jsCode": "return items\n  .map((item, index) => {\n    if (!item.json.output) return null;\n\n    return {\n      json: {\n        id: index + 1,\n        output: item.json.output\n      }\n    };\n  })\n  .filter(Boolean);\n"
      },
      "type": "n8n-nodes-base.code",
      "typeVersion": 2,
      "position": [
        2320,
        2128
      ],
      "id": "e3032ace-9ce7-4d09-90a9-8fb53a6b9c60",
      "name": "combine all test1"
    },
    {
      "parameters": {
        "model": "gpt-4o",
        "options": {}
      },
      "type": "@n8n/n8n-nodes-langchain.lmChatAzureOpenAi",
      "typeVersion": 1,
      "position": [
        1312,
        2400
      ],
      "id": "da3cf7c7-65a9-428f-aa52-f4aa1609ce40",
      "name": "Azure OpenAI Chat Model1",
      "credentials": {
        "azureOpenAiApi": {
          "id": "C3WzT18XqF8OdVM6",
          "name": "Azure Open AI account"
        }
      }
    },
    {
      "parameters": {
        "operation": "append",
        "documentId": {
          "__rl": true,
          "value": "17rcNd_ZpUQLm0uWEVbD-NY6GyFUkrD4BglvawlyBygM",
          "mode": "list",
          "cachedResultName": "sample_leads_50",
          "cachedResultUrl": "https://docs.google.com/spreadsheets/d/17rcNd_ZpUQLm0uWEVbD-NY6GyFUkrD4BglvawlyBygM/edit?usp=drivesdk"
        },
        "sheetName": {
          "__rl": true,
          "value": 630358545,
          "mode": "list",
          "cachedResultName": "JIA test case",
          "cachedResultUrl": "https://docs.google.com/spreadsheets/d/17rcNd_ZpUQLm0uWEVbD-NY6GyFUkrD4BglvawlyBygM/edit#gid=630358545"
        },
        "columns": {
          "mappingMode": "defineBelow",
          "value": {
            "id": "={{ $json.id }}",
            "output": "={{ $json.output }}"
          },
          "matchingColumns": [
            "test Cases"
          ],
          "schema": [
            {
              "id": "id",
              "displayName": "id",
              "required": false,
              "defaultMatch": true,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": false
            },
            {
              "id": "output",
              "displayName": "output",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": false
            }
          ],
          "attemptToConvertTypes": false,
          "convertFieldsToString": false
        },
        "options": {}
      },
      "type": "n8n-nodes-base.googleSheets",
      "typeVersion": 4.7,
      "position": [
        2800,
        2128
      ],
      "id": "e3bd6477-3198-4837-a468-022a72f8401f",
      "name": "Append row in sheet1",
      "credentials": {
        "googleSheetsOAuth2Api": {
          "id": "kpPEOLCGn963qpoh",
          "name": "automations@techdome.ai"
        }
      }
    },
    {
      "parameters": {
        "method": "POST",
        "url": " https://kinsley-pneudraulic-reta.ngrok-free.dev",
        "sendHeaders": true,
        "headerParameters": {
          "parameters": [
            {
              "name": "Content-Type",
              "value": "application/json"
            }
          ]
        },
        "sendBody": true,
        "bodyParameters": {
          "parameters": [
            {
              "name": "tcId",
              "value": "={{ $json.id }}"
            },
            {
              "name": "code",
              "value": "={{ $json.output }}"
            }
          ]
        },
        "options": {}
      },
      "type": "n8n-nodes-base.httpRequest",
      "typeVersion": 4.3,
      "position": [
        2592,
        2128
      ],
      "id": "bd5b35f5-6c79-4f7a-a7d5-05b959d06dfd",
      "name": "HTTP Request1"
    },
    {
      "parameters": {
        "documentId": {
          "__rl": true,
          "value": "1EUpW1d-sI63PBQJn_JRV6o_c9aKdDls2m60xAb12w6w",
          "mode": "list",
          "cachedResultName": "Figma Test Cases JIA",
          "cachedResultUrl": "https://docs.google.com/spreadsheets/d/1EUpW1d-sI63PBQJn_JRV6o_c9aKdDls2m60xAb12w6w/edit?usp=drivesdk"
        },
        "sheetName": {
          "__rl": true,
          "value": "gid=0",
          "mode": "list",
          "cachedResultName": "Sheet1",
          "cachedResultUrl": "https://docs.google.com/spreadsheets/d/1EUpW1d-sI63PBQJn_JRV6o_c9aKdDls2m60xAb12w6w/edit#gid=0"
        },
        "options": {}
      },
      "type": "n8n-nodes-base.googleSheets",
      "typeVersion": 4.7,
      "position": [
        256,
        3248
      ],
      "id": "9751555b-a0f1-4408-a8e3-467d9592e8fb",
      "name": "Get row(s) in sheet2",
      "credentials": {
        "googleSheetsOAuth2Api": {
          "id": "kpPEOLCGn963qpoh",
          "name": "automations@techdome.ai"
        }
      }
    },
    {
      "parameters": {
        "promptType": "define",
        "text": "=Generate a Playwright JS test case from the following input JSON.\n\nWebsite URL:\nhttps://app-qa.justinterview.ai/admin\n\nTest Case Data (from Excel / Google Sheet):\n\nTC-ID:\n{{ $json[\"TC-ID\"] }}\n\nTitle:\n{{ $json[\"Title\"] }}\n\nPreconditions:\n{{ $json[\"Preconditions\"] }}\n\nSteps:\n{{ $json[\"Steps\"] }}\n\nExpected Result:\n{{ $json[\"Expected Result\"] }}\n\nInstructions:\n- Open the browser using the mcp client tool \n- take the steps {{ $json[\"Steps\"] }} and perform all the steps by using this url https://app-qa.justinterview.ai/admin\n- Follow the steps exactly in the given order\n- Perform only the actions described on the opened browser on the given url\n- And after performing the operation generate code for those \n",
        "hasOutputParser": true,
        "options": {
          "systemMessage": "=You are a Senior QA Automation Engineer.\n\nYour task is to convert the given MANUAL English UI test case\ninto a COMPLETE, EXECUTABLE Playwright test.\nthe Input rececived have {{ $json.Steps }} these steps must be performed using mcp client tool help yourself by opening the browser on this Website URL:\nhttps://app-qa.justinterview.ai/admin\nperform the steps by opening the browser by calling the \"mcp client tool\" and after performing all the operations the code for those operation must be generated as output  \n\n\n\nABSOLUTE, NON-NEGOTIABLE RULES:\n- Output ONLY raw executable JavaScript\n- DO NOT use markdown\n- DO NOT use ``` or ```javascript\n- DO NOT wrap code in quotes\n- DO NOT add explanations or comments outside code\n- DO NOT return JSON\n- Output must be a valid Playwright spec file\n\nTECHNICAL REQUIREMENTS:\n- Use CommonJS syntax ONLY\n- Use @playwright/test\n- Start the file EXACTLY with:\n  const { test, expect } = require('@playwright/test');\n\nOUTPUT:\nReturn ONLY the Playwright JavaScript code.\nNothing else.\n\n\n"
        }
      },
      "type": "@n8n/n8n-nodes-langchain.agent",
      "typeVersion": 3,
      "position": [
        448,
        3280
      ],
      "id": "3e2d1276-9e67-44cd-8a8c-7a71afbccfb3",
      "name": "AI Agent2"
    },
    {
      "parameters": {
        "model": {
          "__rl": true,
          "value": "gpt-4o-mini",
          "mode": "list"
        },
        "responsesApiEnabled": false,
        "options": {}
      },
      "type": "@n8n/n8n-nodes-langchain.lmChatOpenAi",
      "typeVersion": 1.3,
      "position": [
        416,
        3440
      ],
      "id": "24114dbc-23c1-4100-b572-44f4883b16a9",
      "name": "OpenAI Chat Model4",
      "credentials": {
        "openAiApi": {
          "id": "fcc0YsAnyxvK2gD4",
          "name": "OpenAi account 3"
        }
      }
    },
    {
      "parameters": {
        "sessionIdType": "customKey",
        "sessionKey": "mcp"
      },
      "type": "@n8n/n8n-nodes-langchain.memoryBufferWindow",
      "typeVersion": 1.3,
      "position": [
        560,
        3456
      ],
      "id": "0d75942b-14ef-4baa-9472-274b402d7b5a",
      "name": "Simple Memory2"
    },
    {
      "parameters": {
        "options": {}
      },
      "type": "n8n-nodes-base.splitInBatches",
      "typeVersion": 3,
      "position": [
        1024,
        2800
      ],
      "id": "8e7d1bb4-e718-4eac-8e29-4f14734f82a6",
      "name": "Loop Over Items4"
    },
    {
      "parameters": {
        "jsonSchemaExample": "{\n  \"testName\": \"string\",\n  \"playwrightTestCode\": \"string\"\n}\n"
      },
      "type": "@n8n/n8n-nodes-langchain.outputParserStructured",
      "typeVersion": 1.3,
      "position": [
        2048,
        3040
      ],
      "id": "24d457d3-bf05-41be-913f-25583050961b",
      "name": "Structured Output Parser3"
    },
    {
      "parameters": {},
      "type": "n8n-nodes-base.merge",
      "typeVersion": 3.2,
      "position": [
        1696,
        2800
      ],
      "id": "1bb2cdb9-00c9-4800-a608-cd275530a0c1",
      "name": "Merge3"
    },
    {
      "parameters": {
        "jsCode": "return items\n  .map((item, index) => {\n    if (!item.json.output) return null;\n\n    return {\n      json: {\n        id: index + 1,\n        output: item.json.output\n      }\n    };\n  })\n  .filter(Boolean);\n"
      },
      "type": "n8n-nodes-base.code",
      "typeVersion": 2,
      "position": [
        2048,
        2704
      ],
      "id": "223010b8-6f74-4f31-afdc-149daa90a996",
      "name": "combine all test2"
    },
    {
      "parameters": {
        "model": "gpt-4o",
        "options": {}
      },
      "type": "@n8n/n8n-nodes-langchain.lmChatAzureOpenAi",
      "typeVersion": 1,
      "position": [
        272,
        3456
      ],
      "id": "181ee417-39ac-4261-ad8d-1e59741616ce",
      "name": "Azure OpenAI Chat Model2",
      "credentials": {
        "azureOpenAiApi": {
          "id": "C3WzT18XqF8OdVM6",
          "name": "Azure Open AI account"
        }
      }
    },
    {
      "parameters": {
        "operation": "append",
        "documentId": {
          "__rl": true,
          "value": "17rcNd_ZpUQLm0uWEVbD-NY6GyFUkrD4BglvawlyBygM",
          "mode": "list",
          "cachedResultName": "sample_leads_50",
          "cachedResultUrl": "https://docs.google.com/spreadsheets/d/17rcNd_ZpUQLm0uWEVbD-NY6GyFUkrD4BglvawlyBygM/edit?usp=drivesdk"
        },
        "sheetName": {
          "__rl": true,
          "value": 630358545,
          "mode": "list",
          "cachedResultName": "JIA test case",
          "cachedResultUrl": "https://docs.google.com/spreadsheets/d/17rcNd_ZpUQLm0uWEVbD-NY6GyFUkrD4BglvawlyBygM/edit#gid=630358545"
        },
        "columns": {
          "mappingMode": "defineBelow",
          "value": {
            "id": "={{ $json.id }}",
            "output": "={{ $json.output }}"
          },
          "matchingColumns": [
            "test Cases"
          ],
          "schema": [
            {
              "id": "id",
              "displayName": "id",
              "required": false,
              "defaultMatch": true,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": false
            },
            {
              "id": "output",
              "displayName": "output",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": false
            }
          ],
          "attemptToConvertTypes": false,
          "convertFieldsToString": false
        },
        "options": {}
      },
      "type": "n8n-nodes-base.googleSheets",
      "typeVersion": 4.7,
      "position": [
        2464,
        2832
      ],
      "id": "7f5453ee-1264-4f83-836b-770437c3dc0e",
      "name": "Append row in sheet2",
      "credentials": {
        "googleSheetsOAuth2Api": {
          "id": "kpPEOLCGn963qpoh",
          "name": "automations@techdome.ai"
        }
      }
    },
    {
      "parameters": {
        "method": "POST",
        "url": " https://kinsley-pneudraulic-reta.ngrok-free.dev",
        "sendHeaders": true,
        "headerParameters": {
          "parameters": [
            {
              "name": "Content-Type",
              "value": "application/json"
            }
          ]
        },
        "sendBody": true,
        "bodyParameters": {
          "parameters": [
            {
              "name": "tcId",
              "value": "={{ $json.id }}"
            },
            {
              "name": "code",
              "value": "={{ $json.output }}"
            }
          ]
        },
        "options": {}
      },
      "type": "n8n-nodes-base.httpRequest",
      "typeVersion": 4.3,
      "position": [
        2064,
        2832
      ],
      "id": "e15fe1d7-0f65-4fc2-88c7-6d3daaef82e7",
      "name": "HTTP Request2"
    },
    {
      "parameters": {
        "path": "2b454692-7ac4-431c-a513-64970fcff3f8"
      },
      "type": "@n8n/n8n-nodes-langchain.mcpTrigger",
      "typeVersion": 2,
      "position": [
        2048,
        3360
      ],
      "id": "7db7c53f-d500-4245-81f7-4591b95a25d8",
      "name": "MCP Server Trigger",
      "webhookId": "2b454692-7ac4-431c-a513-64970fcff3f8"
    },
    {
      "parameters": {
        "documentId": {
          "__rl": true,
          "value": "1-fIiQwopg7f0HpgPMB5wZSTV7rUwpfQplkn0MVWPR9w",
          "mode": "list",
          "cachedResultName": "Jia_Test_case  ",
          "cachedResultUrl": "https://docs.google.com/spreadsheets/d/1-fIiQwopg7f0HpgPMB5wZSTV7rUwpfQplkn0MVWPR9w/edit?usp=drivesdk"
        },
        "sheetName": {
          "__rl": true,
          "value": "gid=0",
          "mode": "list",
          "cachedResultName": "Sheet1",
          "cachedResultUrl": "https://docs.google.com/spreadsheets/d/1-fIiQwopg7f0HpgPMB5wZSTV7rUwpfQplkn0MVWPR9w/edit#gid=0"
        },
        "options": {}
      },
      "type": "n8n-nodes-base.googleSheets",
      "typeVersion": 4.7,
      "position": [
        688,
        2800
      ],
      "id": "530bc3b5-d0d9-47d6-a4a1-873395c9ce88",
      "name": "Get row(s) in sheet3",
      "credentials": {
        "googleSheetsOAuth2Api": {
          "id": "kpPEOLCGn963qpoh",
          "name": "automations@techdome.ai"
        }
      }
    },
    {
      "parameters": {
        "tool": {
          "__rl": true,
          "mode": "list",
          "value": ""
        },
        "inputMode": "json",
        "jsonInput": "",
        "options": {}
      },
      "type": "@n8n/n8n-nodes-langchain.mcpClient",
      "typeVersion": 1,
      "position": [
        2320,
        3360
      ],
      "id": "d73f86fc-5d42-439c-9155-d55ba135c313",
      "name": "MCP Client1"
    },
    {
      "parameters": {
        "options": {}
      },
      "type": "@n8n/n8n-nodes-langchain.chatTrigger",
      "typeVersion": 1.4,
      "position": [
        432,
        3744
      ],
      "id": "e4a9209e-2800-42a4-8127-42571b17f875",
      "name": "When chat message received",
      "webhookId": "7058395c-ddd4-4f83-87ce-dbb37b487204"
    },
    {
      "parameters": {
        "promptType": "define",
        "text": "=Generate a Playwright JS test case from the following input JSON.\n\nWebsite URL:\nhttps://app-qa.justinterview.ai/admin\n\nPeformed the  steps on the above website and provide me with the playwright js code of the operation that you have done the operation must be firsted performed bu opening the browser by using Mcp client node EVERY TIME.\nMust open the browser every time by uisng Mcp client node and perform the operation in that browser do this every single time\n\n-Code formet\n\n test('TC-UI-01: Verify all UI elements are visible on Admin Login page', async ({ page }) => {\n  \n    const emailInput = page.locator('input[placeholder=\"Enter your email\"]');\n    await expect(emailInput).toBeVisible();\n    \n    // Verify password field is present and visible\n    const passwordInput = page.locator('input[placeholder=\"Enter your password\"]');\n    await expect(passwordInput).toBeVisible();\n    \n    // Verify Login button is present and visible\n    const loginButton = page.locator('button[type=\"submit\"]');\n    await expect(loginButton).toBeVisible();\n    await expect(loginButton).toHaveText('Login');\n    \n    // Verify page title/heading\n    const heading = page.locator('h1');\n    await expect(heading).toContainText('Welcome to Admin Portal');\n    \n    console.log('âœ“ All UI elements are visible and enabled');\n  });\n\n\n\n-Cover all the edge test cases",
        "hasOutputParser": true,
        "options": {
          "systemMessage": "=You are a Senior QA Automation Engineer.\ncapable of performing the UI automation by uisng MCP tool for opening browser and perfroming the defined opeartion and giving the playwright syntaxed code as output for the operation you performed \nMust open the browser every time by uisng Mcp client node and perform the operation in that browser do this every single time\n\nABSOLUTE, NON-NEGOTIABLE RULES:\n- Output ONLY raw executable JavaScript\n- DO NOT use markdown\n- DO NOT use ``` or ```javascript\n- DO NOT wrap code in quotes\n\n\nTECHNICAL REQUIREMENTS:\n- Use CommonJS syntax ONLY\n- Use @playwright/test\n"
        }
      },
      "type": "@n8n/n8n-nodes-langchain.agent",
      "typeVersion": 3,
      "position": [
        1040,
        3760
      ],
      "id": "c191ca22-ad05-420b-a0af-d14c9b14bf07",
      "name": "AI Agent3",
      "alwaysOutputData": true
    },
    {
      "parameters": {
        "sessionIdType": "customKey",
        "sessionKey": "mcp"
      },
      "type": "@n8n/n8n-nodes-langchain.memoryBufferWindow",
      "typeVersion": 1.3,
      "position": [
        1120,
        4064
      ],
      "id": "0afda347-c3ec-4f3b-ad63-2716eb2ac862",
      "name": "Simple Memory3"
    },
    {
      "parameters": {
        "endpointUrl": "https://kinsley-pneudraulic-reta.ngrok-free.dev/mcp",
        "serverTransport": "sse",
        "options": {}
      },
      "type": "@n8n/n8n-nodes-langchain.mcpClientTool",
      "typeVersion": 1.2,
      "position": [
        1280,
        4064
      ],
      "id": "1a8af267-ec9c-4234-9fb2-4c1f82bdbc5d",
      "name": "MCP Client2",
      "notesInFlow": true
    },
    {
      "parameters": {
        "model": {
          "__rl": true,
          "value": "gpt-4o-mini",
          "mode": "list"
        },
        "responsesApiEnabled": false,
        "options": {}
      },
      "type": "@n8n/n8n-nodes-langchain.lmChatOpenAi",
      "typeVersion": 1.3,
      "position": [
        960,
        4064
      ],
      "id": "3aadf4fe-7434-4236-90d7-ec141a3a8374",
      "name": "OpenAI Chat Model5",
      "credentials": {
        "openAiApi": {
          "id": "fcc0YsAnyxvK2gD4",
          "name": "OpenAi account 3"
        }
      }
    },
    {
      "parameters": {
        "promptType": "define",
        "text": "=Generate a Playwright JS test case from the following input JSON.\n\nWebsite URL:\nhttps://app-qa.justinterview.ai/admin\n\nPeformed the  steps on the above website and provide me with the playwright js code of the operation that you have done the operation must be firsted performed bu opening the browser by using Mcp client node EVERY TIME.\nMust open the browser every time by uisng Mcp client node and perform the operation in that browser do this every single time\n\n-Code formet\n\n test('TC-UI-01: Verify all UI elements are visible on Admin Login page', async ({ page }) => {\n  \n    const emailInput = page.locator('input[placeholder=\"Enter your email\"]');\n    await expect(emailInput).toBeVisible();\n    \n    // Verify password field is present and visible\n    const passwordInput = page.locator('input[placeholder=\"Enter your password\"]');\n    await expect(passwordInput).toBeVisible();\n    \n    // Verify Login button is present and visible\n    const loginButton = page.locator('button[type=\"submit\"]');\n    await expect(loginButton).toBeVisible();\n    await expect(loginButton).toHaveText('Login');\n    \n    // Verify page title/heading\n    const heading = page.locator('h1');\n    await expect(heading).toContainText('Welcome to Admin Portal');\n    \n    console.log('âœ“ All UI elements are visible and enabled');\n  });\n\n\n\n-Cover all the edge test cases",
        "hasOutputParser": true,
        "options": {
          "systemMessage": "=You are a Senior QA Automation Engineer.\ncapable of performing the UI automation by uisng MCP tool for opening browser and perfroming the defined opeartion and giving the playwright syntaxed code as output for the operation you performed \nMust open the browser every time by uisng Mcp client node and perform the operation in that browser do this every single time\n\nABSOLUTE, NON-NEGOTIABLE RULES:\n- Output ONLY raw executable JavaScript\n- DO NOT use markdown\n- DO NOT use ``` or ```javascript\n- DO NOT wrap code in quotes\n\n\nTECHNICAL REQUIREMENTS:\n- Use CommonJS syntax ONLY\n- Use @playwright/test\n"
        }
      },
      "type": "@n8n/n8n-nodes-langchain.agent",
      "typeVersion": 3,
      "position": [
        1312,
        2784
      ],
      "id": "6a350ce1-e0f9-498c-91f5-0e1b2f03741d",
      "name": "AI Agent4",
      "alwaysOutputData": true
    },
    {
      "parameters": {
        "sessionIdType": "customKey",
        "sessionKey": "mcp"
      },
      "type": "@n8n/n8n-nodes-langchain.memoryBufferWindow",
      "typeVersion": 1.3,
      "position": [
        1392,
        3088
      ],
      "id": "2e705877-3f3a-4fbd-83a7-b2a01381cb01",
      "name": "Simple Memory4"
    },
    {
      "parameters": {
        "endpointUrl": "https://kinsley-pneudraulic-reta.ngrok-free.dev/mcp",
        "serverTransport": "sse",
        "options": {}
      },
      "type": "@n8n/n8n-nodes-langchain.mcpClientTool",
      "typeVersion": 1.2,
      "position": [
        1552,
        3088
      ],
      "id": "0adf37a2-7d45-4be2-9f63-fdef8e957339",
      "name": "MCP Client",
      "notesInFlow": true
    },
    {
      "parameters": {
        "model": {
          "__rl": true,
          "value": "gpt-4o-mini",
          "mode": "list",
          "cachedResultName": "gpt-4o-mini"
        },
        "responsesApiEnabled": false,
        "options": {}
      },
      "type": "@n8n/n8n-nodes-langchain.lmChatOpenAi",
      "typeVersion": 1.3,
      "position": [
        1232,
        3088
      ],
      "id": "eaf0a398-b547-4013-b2ef-6ab19753162b",
      "name": "OpenAI Chat Model6",
      "credentials": {
        "openAiApi": {
          "id": "fcc0YsAnyxvK2gD4",
          "name": "OpenAi account 3"
        }
      }
    }
  ],
  "connections": {
    "Start": {
      "main": [
        [
          {
            "node": "Get Figma File Data",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Get Figma File Data": {
      "main": [
        [
          {
            "node": "Parse Figma JSON",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Parse Figma JSON": {
      "main": [
        [
          {
            "node": "Loop Over Items1",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Basic LLM Chain": {
      "main": [
        []
      ]
    },
    "OpenAI Chat Model": {
      "ai_languageModel": [
        [
          {
            "node": "Basic LLM Chain",
            "type": "ai_languageModel",
            "index": 0
          }
        ]
      ]
    },
    "HTTP Request": {
      "main": [
        [
          {
            "node": "Code in JavaScript",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Code in JavaScript": {
      "main": [
        [
          {
            "node": "Code in JavaScript3",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Structured Output Parser": {
      "ai_outputParser": [
        [
          {
            "node": "AI Agent Checker",
            "type": "ai_outputParser",
            "index": 0
          }
        ]
      ]
    },
    "AI Agent Checker": {
      "main": [
        [
          {
            "node": "Split Out",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Split Out": {
      "main": [
        [
          {
            "node": "Append or update row in sheet",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "OpenAI Chat Model1": {
      "ai_languageModel": [
        [
          {
            "node": "AI Agent Checker",
            "type": "ai_languageModel",
            "index": 0
          }
        ]
      ]
    },
    "Append or update row in sheet": {
      "main": [
        [
          {
            "node": "Loop Over Items1",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Code in JavaScript2": {
      "main": [
        []
      ]
    },
    "Code in JavaScript3": {
      "main": [
        [
          {
            "node": "Edit Fields1",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Loop Over Items1": {
      "main": [
        [],
        [
          {
            "node": "HTTP Request",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Edit Fields": {
      "main": [
        []
      ]
    },
    "Edit Fields1": {
      "main": [
        [
          {
            "node": "AI Agent Checker",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Code Tool": {
      "ai_tool": [
        []
      ]
    },
    "Read/Write Files from Disk": {
      "main": [
        []
      ]
    },
    "Code in JavaScript1": {
      "main": [
        []
      ]
    },
    "Get row(s) in sheet": {
      "main": [
        [
          {
            "node": "Loop Over Items",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "AI Agent": {
      "main": [
        [
          {
            "node": "Merge",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Simple Memory": {
      "ai_memory": [
        [
          {
            "node": "AI Agent",
            "type": "ai_memory",
            "index": 0
          }
        ]
      ]
    },
    "Loop Over Items": {
      "main": [
        [],
        [
          {
            "node": "AI Agent",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Convert to File": {
      "main": [
        [
          {
            "node": "Merge1",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Download file": {
      "main": [
        [
          {
            "node": "Convert to File",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Merge": {
      "main": [
        [
          {
            "node": "combine all test",
            "type": "main",
            "index": 0
          },
          {
            "node": "Loop Over Items",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Append to testspecs.js": {
      "main": [
        [
          {
            "node": "Convert to File1",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "combine all test": {
      "main": [
        [
          {
            "node": "Loop Over Items2",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Merge1": {
      "main": [
        [
          {
            "node": "Append to testspecs.js",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Convert to File1": {
      "main": [
        []
      ]
    },
    "Azure OpenAI Chat Model": {
      "ai_languageModel": [
        [
          {
            "node": "AI Agent",
            "type": "ai_languageModel",
            "index": 0
          }
        ]
      ]
    },
    "Update file": {
      "main": [
        []
      ]
    },
    "Append row in sheet": {
      "main": [
        [
          {
            "node": "Loop Over Items2",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Loop Over Items2": {
      "main": [
        [],
        [
          {
            "node": "Split Out1",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Split Out1": {
      "main": [
        [
          {
            "node": "Append row in sheet",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Get row(s) in sheet1": {
      "main": [
        [
          {
            "node": "Loop Over Items3",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "AI Agent1": {
      "main": [
        [
          {
            "node": "Merge2",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Simple Memory1": {
      "ai_memory": [
        [
          {
            "node": "AI Agent1",
            "type": "ai_memory",
            "index": 0
          }
        ]
      ]
    },
    "Loop Over Items3": {
      "main": [
        [],
        [
          {
            "node": "AI Agent1",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Merge2": {
      "main": [
        [
          {
            "node": "combine all test1",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "combine all test1": {
      "main": [
        [
          {
            "node": "HTTP Request1",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Azure OpenAI Chat Model1": {
      "ai_languageModel": [
        [
          {
            "node": "AI Agent1",
            "type": "ai_languageModel",
            "index": 0
          }
        ]
      ]
    },
    "Append row in sheet1": {
      "main": [
        []
      ]
    },
    "Get row(s) in sheet2": {
      "main": [
        []
      ]
    },
    "AI Agent2": {
      "main": [
        []
      ]
    },
    "Simple Memory2": {
      "ai_memory": [
        [
          {
            "node": "AI Agent2",
            "type": "ai_memory",
            "index": 0
          }
        ]
      ]
    },
    "Loop Over Items4": {
      "main": [
        [],
        [
          {
            "node": "AI Agent4",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Merge3": {
      "main": [
        [
          {
            "node": "Loop Over Items4",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "combine all test2": {
      "main": [
        []
      ]
    },
    "Azure OpenAI Chat Model2": {
      "ai_languageModel": [
        []
      ]
    },
    "OpenAI Chat Model4": {
      "ai_languageModel": [
        [
          {
            "node": "AI Agent2",
            "type": "ai_languageModel",
            "index": 0
          }
        ]
      ]
    },
    "Get row(s) in sheet3": {
      "main": [
        [
          {
            "node": "Loop Over Items4",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Simple Memory3": {
      "ai_memory": [
        []
      ]
    },
    "MCP Client2": {
      "ai_tool": [
        [
          {
            "node": "AI Agent3",
            "type": "ai_tool",
            "index": 0
          }
        ]
      ]
    },
    "When chat message received": {
      "main": [
        [
          {
            "node": "AI Agent3",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "OpenAI Chat Model5": {
      "ai_languageModel": [
        [
          {
            "node": "AI Agent3",
            "type": "ai_languageModel",
            "index": 0
          }
        ]
      ]
    },
    "MCP Client": {
      "ai_tool": [
        [
          {
            "node": "AI Agent4",
            "type": "ai_tool",
            "index": 0
          }
        ]
      ]
    },
    "OpenAI Chat Model6": {
      "ai_languageModel": [
        [
          {
            "node": "AI Agent4",
            "type": "ai_languageModel",
            "index": 0
          }
        ]
      ]
    },
    "AI Agent4": {
      "main": [
        [
          {
            "node": "Merge3",
            "type": "main",
            "index": 0
          }
        ]
      ]
    }
  },
  "settings": {
    "executionOrder": "v1"
  },
  "staticData": null,
  "meta": {
    "templateCredsSetupCompleted": true
  },
  "pinData": {},
  "versionId": "c38974c5-84f2-4e7c-8025-ddc52d2af16a",
  "activeVersionId": null,
  "triggerCount": 0,
  "shared": [
    {
      "updatedAt": "2025-12-15T05:37:53.852Z",
      "createdAt": "2025-12-15T05:37:53.852Z",
      "role": "workflow:owner",
      "workflowId": "BM0mjVxlRR6cc5hG",
      "projectId": "iXigq15mRQoAAIrt"
    }
  ],
  "activeVersion": null,
  "tags": []
}